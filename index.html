<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Boolzapp</title>

        <!-- BOOTSTRAP 5.3.1 CSS CDN -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
            crossorigin="anonymous">

        <!-- FONTAWESOME CDN -->
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
            integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
            crossorigin="anonymous" referrerpolicy="no-referrer">

        <!-- CSS -->
        <link rel="stylesheet" href="./assets/css/style.css">

    </head>
    <body>

        <div id="app">

            <div class="container">
                <div class="row justify-content-center">
                    <div class="col vz-mainContainer my-5 d-flex">

                        <div class="col-4">

                            <!-- SIDEBAR -->
                            <div class="vz-sidebar">
                                <!-- USER NAVBAR -->
                                <nav class="navbar navbar-expand vz-bgAppLight">

                                    <div class="container-fluid">

                                        <!-- USER AVATAR -->
                                        <div
                                            class="vz-profileContainer d-flex align-items-center">
                                            <a class="navbar-brand" href="#">

                                                <img class="vz-avatarPic"
                                                    src="./img/avatar_io.jpg"
                                                    alt="User">

                                            </a>
                                            <span
                                                class="d-lg-inline-block d-sm-none">User</span>
                                        </div>

                                        <!-- NAV LINKS -->
                                        <ul class="navbar-nav ms-auto">

                                            <li class="nav-item">
                                                <a class="nav-link" href="#">
                                                    <i
                                                        class="fa-solid fa-circle-notch"></i>
                                                </a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" href="#">
                                                    <i
                                                        class="fa-solid fa-message"></i>
                                                </a>
                                            </li>

                                            <li class="nav-item">
                                                <a class="nav-link" href="#">
                                                    <i
                                                        class="fa-solid fa-ellipsis-vertical"></i>
                                                </a>
                                            </li>

                                        </ul>

                                    </div>

                                </nav>

                                <!-- ACTIVATE DESKTOP NOTIFICATION ALERT -->
                                <div
                                    class="d-flex align-items-center p-2 vz-notificationAlert vz-appFocus">

                                    <div class="me-2 vz-bell">
                                        <i class="fa fa-bell-slash"
                                            aria-hidden="true"></i>
                                    </div>

                                    <div class="vz-notMess d-flex flex-column">
                                        <span
                                            class="d-lg-inline-block d-sm-none">Ricevi
                                            notifiche di nuovi messaggi</span>
                                        <a class="vz-actDeskNot" href>Attiva
                                            notifiche desktop</a>
                                    </div>

                                </div>

                                <!-- SEARCHBAR -->
                                <form
                                    class="d-flex input-group bg-light p-2"
                                    role="search">

                                    <span
                                        class="input-group-text vz-btnSearch vz-bgAppWhite"
                                        id="searchbar">
                                        <i class="fa-solid fa-magnifying-glass"></i>
                                    </span>

                                    <input type="search"
                                        class="form-control border-start-0 shadow-none vz-btnSearchBar vz-bgAppWhite"
                                        placeholder="Cerca o inizia una nuova chat"
                                        aria-label="Search"
                                        aria-describedby="searchbar">

                                </form>

                                <!-- CONTACTS LIST -->
                                <div class="vz-contactsListCont">

                                    <div
                                        class="p-2 vz-contactTab"
                                        v-for="(contact, index) in contacts"
                                        key="index"
                                        :class="index == activeContact ? 'vz-contactActive' : ''"
                                        @click="activeContact = index">

                                        <div
                                            class="vz-profileContainer d-flex">

                                            <!-- AVATAR -->
                                            <div class="me-2">

                                                <img class="vz-avatarPic"
                                                    :src="contact.avatar"
                                                    :alt="contact.name">

                                            </div>

                                            <!-- NAME AND LAST MESSAGE -->
                                            <!-- d-lg-inline-block d-sm-none -->
                                            <div
                                                class="d-flex flex-column flex-grow-1 align-items-start vz-status">

                                                <div class="mb-1 vz-contactName">
                                                    <span>{{contact.name}}</span>
                                                </div>

                                                <div class="vz-lastMessage">
                                                    <!-- SICURAMENTE DIVERRA' DINAMICO -->
                                                    <span>Ultimo
                                                        messaggio inviato</span>
                                                </div>

                                            </div>

                                            <!-- TIME ONLINE -->
                                            <div class="vz-timeonline">
                                                <span>12.00</span>
                                            </div>

                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>

                        <div class="col flex-grow-1">
                            <!-- ACTIVE CONTACT NAVBAR -->
                            <nav
                                class="navbar navbar-expand vz-ActContactNavbar vz-bgAppLight">

                                <div class="container-fluid">

                                    <!-- CONTACT AVATAR -->
                                    <div
                                        class="vz-profileContainer d-flex align-items-center">
                                        <a class="navbar-brand" href="#">

                                            <img class="vz-avatarPic"
                                                :src="getAvatar(activeContact)"
                                                :alt="getName(activeContact)">

                                        </a>

                                        <!-- d-lg-inline-block d-sm-none -->
                                        <div class="vz-contactStatus">

                                            <div>
                                                <span>{{contacts[activeContact].name}}</span>
                                            </div>

                                            <div>

                                                <!-- SICURAMENTE DIVERRA' DINAMICO -->
                                                <span class="vz-lastOnline">Ultimo
                                                    accesso
                                                    oggi alle 12.00</span>
                                            </div>

                                        </div>

                                    </div>

                                    <!-- NAV LINKS -->
                                    <ul class="navbar-nav ms-auto">

                                        <li class="nav-item">
                                            <a class="nav-link" href="#">
                                                <i class="fa fa-search"
                                                    aria-hidden="true"></i>
                                            </a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" href="#">
                                                <i class="fa-solid fa-paperclip"></i>
                                            </a>
                                        </li>

                                        <li class="nav-item">
                                            <a class="nav-link" href="#">
                                                <i
                                                    class="fa-solid fa-ellipsis-vertical"></i>
                                            </a>
                                        </li>

                                    </ul>

                                </div>

                            </nav>

                            <div class="vz-chatContainer
                            ">
                                <div class="p-5 d-flex flex-column vz-chat">

                                    <div class="vz-messages d-flex"
                                        v-for="(chat, key, index) in contacts[activeContact].messages"
                                        :key="activeContact">

                                        <div
                                            class="mb-3 border rounded-3 col-5 vz-sentMessage"
                                            :class="chat.status === 'sent' ? 'vz-sentMessage' : 'vz-receivedMessage'">
                                            <div class="mt-3 mx-3">{{chat.message}}</div>
                                            <div class="d-flex">
                                                <span
                                                    class="ms-auto me-2 mb-1 vz-chatDate">{{chat.date}}</span>
                                            </div>

                                        </div>

                                    </div>

                                    <!--                                     <div
                                        class="p-3 mb-3 border rounded-3 align-self-end vz-sentMessage">Ricordati
                                        di stendere i panni</div>

                                    <div
                                        class="p-3 mb-3 border rounded-3 align-self-baseline vz-receivedMessage">Tutto
                                        fatto!</div> -->
                                </div>
                            </div>

                            <!-- SEND MESSAGE BAR -->
                            <form
                                class="d-flex p-2 vz-bgAppLight">

                                <span
                                    class="btn bg-transparent border-0">
                                    <i class="fa-regular fa-face-smile"></i>
                                </span>

                                <input type="text"
                                    class="flex-grow-1 vz-messageInput vz-bgAppWhite"
                                    placeholder="Scrivi un messaggio">

                                <button
                                    class="btn bg-transparent border-0">
                                    <i class="fa-solid fa-paper-plane"></i>
                                </button>

                            </form>

                        </div>

                    </div>
                </div>
            </div>

        </div>

        <!-- VUE.JS 3 (OPTIONS) CDN -->
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

        <!-- BOOSTRAP 5.3.1 JS SCRIPTS BUNDLE CDN -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>

        <!-- JS SCRIPT LINK -->
        <script type="text/javascript" src="./assets/js/app.js"></script>

    </body>

</html>